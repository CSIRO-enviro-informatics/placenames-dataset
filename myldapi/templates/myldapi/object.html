{% extends "myldapi/layout.html" %}

{% block extra_head_css%}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" />
{% endblock %}
{% block extra_head_javascript%}
<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
<script src="{{ url_for('myldapi.static', filename='proj4-compressed.js') }}"></script>
<script src="{{ url_for('myldapi.static', filename='proj4leaflet.js') }}"></script>
{% endblock %}

{% block content %}
<section class="myldapi-section">
    <div class="row">
        <div class="col-12">
            <h1><a href="{{type_uri}}">{{ type_name }}</a> {{ id }}</h1>
            <p class="lead">{{ uri }}</p>
        </div>
    </div>

    {% include "myldapi/map.html" %}

    <div class="row">
        <!-- <div class="col-12">
            <h3>Attributes</h3>
        </div> -->
        {% for item, value in attr_map %}
            {% if item.label  %}
            <dt class="col-sm-3">
                {% if item.predicate.pred_uri %}
                    <a title="{{ item.predicate.comment }}" href="{{ item.predicate.pred_uri }}">{{ item.label }}</a>
                {% else %}
                    {{ item.label }}
                {% endif %}
            </dt>
            <dd class="col-sm-9">
                {% if value.uri %}
                    <a href="{{ value.uri }}">
                        {% if value.label %}
                            {{ value.label }}
                        {% else %}
                            {{ value.value }}
                        {% endif %}
                    </a>
                {% else %}
                    {% if value.label %}
                        {{ value.label }}
                    {% else %}
                        {{ value.value }}
                    {% endif %}
                {% endif %}
            </dd>
            {% endif %}
        {% endfor %}
    </div>
</section>

<section class="myldapi-section">
    <div class="row">
        <div class="col-12">
            <h3>Other Views</h3>
            <p>Other views/representations/profiles of this object can be found in the <a href="?_view=alternates&_format=text/html">alternates view</a></p>
        </div>
    </div>
</section>

<section class="myldapi-section">
    <div class="row">
        <div class="col-12">
            <h3>Citation</h3>
            <p>If you wish to cite this Catchment as you would a publication, please use the following format:</p>
            <blockquote class="blockquote citation">
                <p class="ml-0">
                    {{config.CITATION_TEMPLATE.format(type=type_name, id=id, uri=uri, dataset=dataset_name)}}
                </p>
            </blockquote>
        </div>
    </div>
</section>

{% endblock %}