{% extends "myldapi/layout.html" %}

{% block content %}
<section class="myldapi-section">
    <div class="row">
        <div class="col-12">
            {% set item_type_am, item_type_v = find_prop(attr_map, 'contained_item_class') %}
            <h1><a href="{{type_uri}}">{{ type_name }}</a> of <a href="{{item_type_v.uri}}">{{ item_type_v.label }}</a></h1>
            <p class="lead">{{ uri }}</p>
        </div>
    </div>
</section>

<section class="myldapi-section">
    <div class="row">
        <div class="col-md-4">
            <h3>Items in this Register:</h3>
            <ul>
                {% set am, v = find_prop(attr_map, 'uris') %}
                {% for uri_val in v.value %}                
                <!-- Could debate if we use official URI, or app relative URI here -->
                <li><a href="{{uri_val.uri}}">{{uri_val.label}}</a></li>                
                {% endfor %}
            </ul>
        </div>
        <div class="col-md-8">
            <h3>Automated Pagination</h3>
            <p>To paginate these registered items, something you may wish a link following tool like a web crawler to do, use the query string arguments 'page' for the page number and 'per_page' for the number of items per page. HTTP <code>Link</code> headers of <code>first</code>, <code>prev</code>, <code>next</code> &amp; <code>last</code> are given to indicate URIs to the first, a previous, a next and the last page.</p>
            <p>Example:</p>
            <pre>http://example.com/reg/?page=7&amp;per_page=50
                        </pre>
            <p>Assuming 500 items, this request would result in a response with the following Link header:</p>
            <pre>Link:   &lt;http://example.com/reg/?per_page=50&gt; rel="first",
        &lt;http://example.com/reg/?per_page=50&amp;page=6&gt; rel="prev",
        &lt;http://example.com/reg/?per_page=50&amp;page=8&gt; rel="next",
        &lt;http://example.com/reg/?per_page=50&amp;page=10&gt; rel="last"
                        </pre>
            <p>If you want to page through the whole collection, you should start at <code>first</code> and follow the link headers until you reach <code>last</code> or until there is no <code>last</code> link given. You shouldn't try to calculate each <code>page</code> query string argument yourself.</p>
            <h3>Alternate views</h3>
            <p>Different views of this register of objects are listed at its <a href="http://linked.data.gov.au/dataset/asgs2016/meshblock/?_view=alternates">Alternate views</a> page.</p>
        </div>
    </div>
</section>

{% if pagination and pagination.links %}
<section class="myldapi-section">
    <div class="row">
        <div class="col-12">
            {{ pagination.links }}
        </div>
    </div>
</section>
{% endif %}

{% endblock %}